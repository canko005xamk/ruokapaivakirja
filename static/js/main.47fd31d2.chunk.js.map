{"version":3,"sources":["components/Otsikko.js","components/Listaus.js","components/MuokkaaAteriaa.js","components/LisaaRuoka.js","App.js","index.js"],"names":["Otsikko","props","Typography","variant","align","children","usestyles","makeStyles","ateriaLaatikko","marginTop","border","borderRadius","ateriaOtsikko","backgroundColor","color","ateriaNimi","width","ateriaAika","Listaus","tyylit","style","paiva","ateriat","map","ateria","ruuat","reduce","a","b","kalorit","sort","compareAsc","aika","idx","indeksiA","kokonaisKalorit","ruoka","List","className","disablePadding","ListItem","ListItemText","primary","nimi","format","ListItemIcon","Tooltip","title","IconButton","component","Link","to","id","indeksiB","divider","secondary","placement","fontSize","laatikot","marginRight","nappi","marginBottom","MuokkaaAteriaa","useParams","history","useHistory","useRef","useState","aikaKentta","setAikaKentta","muokattavaAteria","filter","useEffect","Date","utils","DateFnsUtils","locale","fi","onSubmit","e","preventDefault","ateriatKopio","muokattuAteria","current","value","getTime","setAteriatTanaan","push","TextField","name","inputRef","label","InputLabelProps","shrink","defaultValue","TimePicker","inputVariant","cancelLabel","ampm","onChange","Button","type","fullWidth","onClick","window","confirm","poistonKasittelija","LisaaRuoka","auki","setAuki","virheilmoitus","setVirheilmoitus","nimiKentta","kaloriKentta","virheet","annetutKalorit","Number","isNaN","Object","entries","length","ruuatKopio","uusiRuoka","error","Boolean","helperText","Snackbar","message","open","onClose","autoHideDuration","anchorOrigin","vertical","horizontal","App","ateriatTanaan","tanaan","paivays","tallennetutAteriat","JSON","parse","localStorage","getItem","ateriatPohja","uuid","set","hours","minutes","avaaAteriat","setItem","stringify","Container","maxWidth","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.47fd31d2.chunk.js","sourcesContent":["import { Typography } from \"@material-ui/core\";\r\n\r\n\r\n\r\nfunction Otsikko(props) {\r\n\r\n    return (\r\n      <Typography\r\n        variant = \"h5\"\r\n        align = \"center\"\r\n      >\r\n          {props.children}\r\n      </Typography>\r\n    );\r\n  }\r\n  \r\n  export default Otsikko;\r\n  ","import { ListItem, ListItemText, List, makeStyles, ListItemIcon, IconButton, Tooltip, Typography } from '@material-ui/core'\r\nimport { compareAsc, format } from 'date-fns';\r\nimport { Link } from 'react-router-dom';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Otsikko from \"./Otsikko\"\r\n\r\nconst usestyles = makeStyles( {\r\n  ateriaLaatikko: {\r\n    marginTop: 15,\r\n    border: \"1px solid gray\",\r\n    borderRadius: 4,\r\n  },\r\n\r\n  ateriaOtsikko: {\r\n    backgroundColor: \"#757de8\",\r\n    color: \"white\"\r\n  },\r\n\r\n  ateriaNimi: {\r\n    width: \"70%\"\r\n  },\r\n\r\n  ateriaAika: {\r\n    width: \"30%\"\r\n  }\r\n});\r\n\r\nfunction Listaus(props) {\r\n\r\n  const tyylit = usestyles();\r\n\r\n    return (\r\n\r\n      <>\r\n\r\n      <Otsikko>Ruokapäiväkirja</Otsikko>\r\n\r\n      <Typography\r\n        variant = \"h6\"\r\n        align = \"center\"\r\n        style = {{marginTop: 20}}\r\n      > \r\n        { props.paiva } \r\n      </Typography>\r\n\r\n      <Typography\r\n        variant = \"h6\"\r\n        align = \"center\"\r\n      > \r\n        Yhteensä { props.ateriat.map( (ateria) => { return ateria.ruuat.reduce( (a, b) => { return (a + b.kalorit)}, 0)}).reduce( (a, b) => {return (a + b)}, 0)} kcal \r\n      </Typography>\r\n\r\n      {props.ateriat.sort( (a, b) => {\r\n        return compareAsc(a.aika, b.aika);\r\n      }).map( (ateria, idx) => {\r\n        let indeksiA = idx + \"A\";\r\n        let kokonaisKalorit = ateria.ruuat.map(ruoka => { return (ruoka.kalorit)}).reduce((a,b) => { return (a + b)}, 0);\r\n\r\n        return (\r\n\r\n          <List \r\n            key = {indeksiA}\r\n            className = {tyylit.ateriaLaatikko}\r\n            disablePadding\r\n          >\r\n            <ListItem \r\n              className = {tyylit.ateriaOtsikko}\r\n            >\r\n              <ListItemText \r\n                className = {tyylit.ateriaNimi}\r\n                primary = {ateria.nimi}\r\n              />\r\n\r\n              <ListItemText \r\n                className = {tyylit.ateriaNimi}\r\n                primary = { (kokonaisKalorit > 0 ) ? kokonaisKalorit + \" kcal\" : \"\"}\r\n              />\r\n              \r\n              <ListItemText \r\n                className = {tyylit.ateriaAika}\r\n                primary = { format(ateria.aika, \"HH:mm\") }/>\r\n\r\n              \r\n              <ListItemIcon>\r\n                <Tooltip title = \"Muokkaa ateriaa\">\r\n                  <IconButton\r\n                    component = {Link}\r\n                    to = {`/muokkaa/${ateria.id}`}\r\n                  >\r\n                    <EditIcon style = {{color:\"white\"}}/>\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </ListItemIcon>\r\n\r\n            </ListItem>\r\n\r\n            {(ateria.ruuat)\r\n                ? ateria.ruuat.map( (ruoka, idx) => {\r\n                  let indeksiB = idx + \"B\";\r\n                  return (\r\n                    <ListItem \r\n                    key = {indeksiB}\r\n                    divider\r\n                    >\r\n                      <ListItemText \r\n                        primary = {ruoka.nimi}\r\n                        secondary = { (ruoka.kalorit > 0 ) ? ruoka.kalorit + \" kcal\" : \"\"}\r\n                      />\r\n\r\n                    </ListItem>\r\n                  ) \r\n                })\r\n                : <></>\r\n              }\r\n            \r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <Tooltip\r\n                  title = \"Lisää ruokia ateriaan\"\r\n                  placement = \"right\"\r\n                >\r\n                  <IconButton\r\n                  component = {Link}\r\n                  to = {`/lisaa/${ateria.id}`}\r\n                  >\r\n                    <AddIcon fontSize = \"small\"/>\r\n                  </IconButton>\r\n                </Tooltip>\r\n                \r\n              </ListItemIcon>\r\n            </ListItem>\r\n            \r\n          </List>\r\n\r\n          )\r\n        })\r\n      }\r\n      </>      \r\n    );\r\n  }\r\n  \r\n  export default Listaus;\r\n  ","import DateFnsUtils from \"@date-io/date-fns\";\r\nimport { fi } from 'date-fns/locale';\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { List, ListItem, TextField, Button, makeStyles, ListItemText, ListItemIcon, IconButton, Tooltip } from \"@material-ui/core\";\r\nimport { TimePicker } from \"@material-ui/pickers\";\r\nimport Otsikko from \"./Otsikko\"\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst usestyles = makeStyles( {\r\n  laatikot: {\r\n    marginRight: 10,\r\n    marginTop: 20\r\n  },\r\n\r\n  nappi: {\r\n    marginBottom: 10\r\n  }\r\n});\r\n\r\nfunction MuokkaaAteriaa(props) {\r\n\r\n  const tyylit = usestyles();\r\n  const {id} = useParams();\r\n  const history = useHistory();\r\n\r\n  const ateriaNimi = useRef();\r\n  const [aikaKentta, setAikaKentta] = useState();\r\n\r\n  const muokattavaAteria = props.ateriat.filter( (ateria) => {\r\n    return (ateria.id === id);\r\n  })[0];\r\n  \r\n  const vaihdaAika = () => {\r\n    setAikaKentta(new Date(muokattavaAteria.aika));\r\n  };\r\n\r\n  const lomakeKasittelija = (e) => {\r\n\r\n    e.preventDefault();\r\n\r\n    let ateriatKopio = props.ateriat.filter( (ateria) => {\r\n      return (ateria.id !== id);\r\n    });\r\n\r\n    let muokattuAteria = {\r\n\r\n      id : id,\r\n      nimi : ateriaNimi.current.value,\r\n      aika : aikaKentta.getTime(),\r\n      ruuat: muokattavaAteria.ruuat\r\n    }\r\n\r\n    props.setAteriatTanaan( {paiva: props.paiva, ateriat: [...ateriatKopio, muokattuAteria]});\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const poistonKasittelija = () => {\r\n\r\n    let ateriatKopio = props.ateriat.filter( (ateria) => {\r\n      return (ateria.id !== id);\r\n    });\r\n\r\n    let muokattuAteria = {\r\n\r\n    id : id,\r\n    nimi : ateriaNimi.current.value,\r\n    aika : aikaKentta.getTime(),\r\n    ruuat: []\r\n    }\r\n\r\n    props.setAteriatTanaan( { paiva: props.paiva, ateriat: [...ateriatKopio, muokattuAteria]} );\r\n    \r\n  };\r\n\r\n\r\n  useEffect( () => {\r\n\r\n    vaihdaAika();\r\n  }, [] );\r\n\r\n    return (\r\n      <MuiPickersUtilsProvider utils = {DateFnsUtils} locale = {fi}>\r\n\r\n        <Otsikko> Muokkaa ateriaa </Otsikko>\r\n\r\n        <form onSubmit = {lomakeKasittelija}>\r\n          <List>\r\n\r\n            <ListItem>\r\n              <TextField\r\n                className = {tyylit.laatikot}\r\n                name = \"nimi\"\r\n                inputRef = {ateriaNimi}\r\n                variant = \"outlined\"\r\n                label = \"Aterian nimi\"\r\n                InputLabelProps = {\r\n                  {shrink : true}\r\n                }\r\n                defaultValue = {muokattavaAteria.nimi}\r\n              />\r\n\r\n              <TimePicker\r\n                className = {tyylit.laatikot}\r\n                inputVariant = \"outlined\"\r\n                label = \"Aika\"\r\n                cancelLabel = \"Peruuta\"\r\n                ampm = {false}\r\n                format = \"HH:mm\"\r\n                value = {aikaKentta}\r\n                onChange = {setAikaKentta}\r\n              />\r\n            </ListItem>\r\n\r\n          </List>\r\n\r\n          <Button\r\n            type = \"submit\"\r\n            variant = \"contained\"\r\n            color = \"primary\"\r\n            fullWidth\r\n            className = {tyylit.nappi}\r\n          >\r\n            Valmis\r\n          </Button>\r\n        </form>\r\n\r\n        <Button\r\n            variant = \"contained\"\r\n            fullWidth\r\n            onClick = {() => {history.push(\"/\")}}\r\n        >\r\n            Palaa\r\n        </Button>\r\n  \r\n        <List>\r\n        { muokattavaAteria.ruuat.map( (ruoka, idx) => { \r\n          return ( \r\n        \r\n            <ListItem key = {idx}>\r\n              <ListItemText primary = {ruoka.nimi}/>\r\n              <ListItemText primary = {ruoka.kalorit + \" kcal\"}/>\r\n            </ListItem>\r\n          )\r\n        })}\r\n\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Tooltip \r\n              title = \"Poista ruuat\"\r\n              placement = \"right\"  \r\n            >\r\n              <IconButton\r\n                onClick = { () => { if (window.confirm(\"Poista kaikki ruuat?\") ) {poistonKasittelija()} }}\r\n              >\r\n                <DeleteIcon/>\r\n              </IconButton>\r\n            </Tooltip>\r\n          </ListItemIcon>\r\n        </ListItem>\r\n      </List>\r\n      \r\n\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n  \r\n  export default MuokkaaAteriaa;\r\n  ","import { useParams, useHistory } from \"react-router\";\r\nimport { useRef, useState } from 'react';\r\nimport { TextField, Button, makeStyles, Snackbar } from \"@material-ui/core\";\r\nimport Otsikko from \"./Otsikko\"\r\n\r\nconst usestyles = makeStyles( {\r\n    laatikot: {\r\n      marginRight: 10,\r\n      marginTop: 20,\r\n      marginBottom: 30,\r\n      width: \"47%\"\r\n    },\r\n    \r\n    nappi: {\r\n      marginBottom: 10,\r\n    }\r\n  });\r\n\r\nfunction LisaaRuoka(props) {\r\n\r\n    const tyylit = usestyles();\r\n    const {id} = useParams();\r\n    const history = useHistory();\r\n\r\n    const [auki, setAuki] = useState(false);\r\n    const [virheilmoitus, setVirheilmoitus] = useState({});\r\n\r\n    const nimiKentta = useRef();\r\n    const kaloriKentta = useRef();\r\n\r\n    const muokattavaAteria = props.ateriat.filter( (ateria) => {\r\n        return (ateria.id === id);\r\n    })[0];\r\n    \r\n    const lomakeKasittelija = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        let virheet = {};\r\n        let annetutKalorit = Number(kaloriKentta.current.value);\r\n\r\n        if (!nimiKentta.current.value) {\r\n          virheet = { ...virheet, nimi: \"Anna ruuan nimi\"}\r\n        }\r\n\r\n        if (isNaN(annetutKalorit)) {\r\n          virheet = { ...virheet, kalorit: \"Anna vain numeroita\"}\r\n        }\r\n\r\n        if (Object.entries(virheet).length > 0) {\r\n          setVirheilmoitus( {...virheet});\r\n        }\r\n        else {\r\n\r\n          setVirheilmoitus({});\r\n\r\n          let ateriatKopio = props.ateriat.filter( (ateria) => {\r\n          return (ateria.id !== id);\r\n          });\r\n\r\n          let ruuatKopio = muokattavaAteria.ruuat.map(ruoka => {return (ruoka)});\r\n\r\n          let uusiRuoka = {\r\n              nimi: nimiKentta.current.value,\r\n              kalorit: Number(kaloriKentta.current.value)\r\n          }\r\n\r\n          let muokattuAteria = {\r\n              id: muokattavaAteria.id,\r\n              nimi: muokattavaAteria.nimi,\r\n              aika: muokattavaAteria.aika,\r\n              ruuat: [...ruuatKopio, uusiRuoka]\r\n          }\r\n      \r\n          props.setAteriatTanaan( {paiva: props.paiva, ateriat: [...ateriatKopio, muokattuAteria]});\r\n          nimiKentta.current.value = \"\";\r\n          kaloriKentta.current.value =\"\";\r\n          setAuki(true);\r\n        }\r\n    \r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Otsikko> Lisää ruokia </Otsikko>\r\n\r\n        <form onSubmit = {lomakeKasittelija}>\r\n\r\n          <TextField\r\n              className = {tyylit.laatikot}\r\n              name = \"nimi\"\r\n              inputRef = {nimiKentta}\r\n              variant = \"outlined\"\r\n              label = \"Ruoka\"\r\n              InputLabelProps = {\r\n              {shrink : true}\r\n              }\r\n              error = {Boolean(virheilmoitus.nimi)}\r\n              helperText = {virheilmoitus.nimi}\r\n          />\r\n\r\n          <TextField\r\n              className = {tyylit.laatikot}\r\n              name = \"kalorit\"\r\n              inputRef = {kaloriKentta}\r\n              variant = \"outlined\"\r\n              label = \"Kalorit\"\r\n              InputLabelProps = {\r\n              {shrink : true}\r\n              }\r\n              error = {Boolean(virheilmoitus.kalorit)}\r\n              helperText = {virheilmoitus.kalorit}\r\n          />\r\n\r\n          <Button\r\n            type = \"submit\"\r\n            variant = \"contained\"\r\n            color = \"primary\"\r\n            fullWidth\r\n            className = {tyylit.nappi}\r\n          >\r\n              Lisää\r\n          </Button>\r\n\r\n        </form>\r\n\r\n        <Button\r\n            variant = \"contained\"\r\n            fullWidth\r\n            onClick = {() => {history.push(\"/\")}}\r\n        >\r\n            Palaa\r\n        </Button>\r\n\r\n        <Snackbar\r\n            message = \"Ruoka lisätty\"\r\n            open = {auki}\r\n            onClose = { () => { setAuki(false)}}\r\n            autoHideDuration = {2000}\r\n            anchorOrigin = {{vertical: 'top', horizontal: 'center'}}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export default LisaaRuoka;\r\n  ","import { Container } from '@material-ui/core'\r\nimport { useEffect, useState } from 'react';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { format, set } from 'date-fns';\r\nimport Listaus from './components/Listaus';\r\nimport MuokkaaAteriaa from './components/MuokkaaAteriaa';\r\nimport LisaaRuoka from './components/LisaaRuoka';\r\n\r\nfunction App() {\r\n\r\n  const [ateriatTanaan, setAteriatTanaan] = useState(\r\n    { \r\n      paiva: \"\", \r\n      ateriat: []\r\n    }\r\n  );\r\n\r\n  const avaaAteriat = () => {\r\n\r\n    let tanaan = new Date();\r\n    let paivays = format(tanaan, \"d.M.y\")\r\n    let tallennetutAteriat = JSON.parse(localStorage.getItem(`ateriat/${paivays}`));\r\n\r\n    let ateriatPohja = \r\n\r\n      {\r\n        paiva: paivays,\r\n        ateriat: [\r\n      \r\n          {\r\n            id: uuid(),\r\n            nimi: \"Aamiainen\",\r\n            aika: set(tanaan, {hours: 8, minutes: 0} ).getTime(),\r\n            ruuat: []\r\n          },\r\n          {\r\n            id: uuid(),\r\n            nimi: \"Lounas\",\r\n            aika: set(tanaan, {hours: 11, minutes: 0} ).getTime(),\r\n            ruuat: []\r\n          },\r\n          {\r\n            id: uuid(),\r\n            nimi: \"Välipala\",\r\n            aika: set(tanaan, {hours: 14, minutes: 0} ).getTime(),\r\n            ruuat: []\r\n          },\r\n          {\r\n            id: uuid(),\r\n            nimi: \"Päivällinen\",\r\n            aika: set(tanaan, {hours: 17, minutes: 0} ).getTime(),\r\n            ruuat: []\r\n          },\r\n          {\r\n            id: uuid(),\r\n            nimi: \"Illallinen\",\r\n            aika: set(tanaan, {hours: 20, minutes: 0} ).getTime(),\r\n            ruuat: []\r\n          }\r\n        ]\r\n      }\r\n    ;\r\n    \r\n    if ( tallennetutAteriat ) {\r\n      setAteriatTanaan(tallennetutAteriat);\r\n    }\r\n\r\n    else {\r\n      setAteriatTanaan(ateriatPohja);\r\n    }\r\n\r\n    \r\n  };\r\n\r\n  const tallennaAteriat = () => {\r\n\r\n    localStorage.setItem( `ateriat/${ateriatTanaan.paiva}`, JSON.stringify(ateriatTanaan) );\r\n  };\r\n\r\n  useEffect( () => {\r\n    avaaAteriat();\r\n  }, [])\r\n\r\n  useEffect( () => {\r\n    tallennaAteriat();\r\n  }, [ateriatTanaan])\r\n\r\n  return (\r\n    <Container maxWidth = \"xs\">\r\n\r\n      <Router>\r\n\r\n        <Route path = \"/\" exact>\r\n          <Listaus ateriat = {ateriatTanaan.ateriat} paiva = {ateriatTanaan.paiva}/>\r\n        </Route>\r\n\r\n        <Route path = \"/ruokapaivakirja/\">\r\n          <Listaus ateriat = {ateriatTanaan.ateriat} paiva = {ateriatTanaan.paiva}/>\r\n        </Route>\r\n\r\n        <Route path = \"/muokkaa/:id\">\r\n          <MuokkaaAteriaa \r\n            ateriat = {ateriatTanaan.ateriat} \r\n            paiva = {ateriatTanaan.paiva} \r\n            setAteriatTanaan = {setAteriatTanaan}\r\n          />\r\n        </Route>\r\n\r\n        <Route path = \"/lisaa/:id\">\r\n          <LisaaRuoka \r\n            ateriat = {ateriatTanaan.ateriat} \r\n            paiva = {ateriatTanaan.paiva} \r\n            setAteriatTanaan = {setAteriatTanaan}\r\n          />\r\n        </Route>\r\n      \r\n      </Router>\r\n\r\n      \r\n      \r\n    </Container>\r\n          \r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}